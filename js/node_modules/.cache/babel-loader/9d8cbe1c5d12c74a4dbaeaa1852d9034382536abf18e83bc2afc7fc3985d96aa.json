{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shapeBoundsFactory = void 0;\nvar shape_enum_1 = require(\"../enums/shape.enum\");\nvar shapeBoundsFactory = function (shape, absoluteX, absoluteY, relativeX, relativeY, dist, radius, baseSize, parentRect) {\n  switch (shape) {\n    case shape_enum_1.JoystickShape.Square:\n      relativeX = getWithinBounds(absoluteX - parentRect.left - baseSize / 2, baseSize);\n      relativeY = getWithinBounds(absoluteY - parentRect.top - baseSize / 2, baseSize);\n      return {\n        relativeX: relativeX,\n        relativeY: relativeY\n      };\n    case shape_enum_1.JoystickShape.AxisX:\n      relativeX = getWithinBounds(absoluteX - parentRect.left - baseSize / 2, baseSize);\n      relativeY = 0;\n      return {\n        relativeX: relativeX,\n        relativeY: relativeY\n      };\n    case shape_enum_1.JoystickShape.AxisY:\n      relativeX = 0;\n      relativeY = getWithinBounds(absoluteY - parentRect.top - baseSize / 2, baseSize);\n      return {\n        relativeX: relativeX,\n        relativeY: relativeY\n      };\n    default:\n      if (dist > radius) {\n        relativeX *= radius / dist;\n        relativeY *= radius / dist;\n      }\n      return {\n        relativeX: relativeX,\n        relativeY: relativeY\n      };\n  }\n};\nexports.shapeBoundsFactory = shapeBoundsFactory;\nvar getWithinBounds = function (value, baseSize) {\n  var halfBaseSize = baseSize / 2;\n  if (value > halfBaseSize) {\n    return halfBaseSize;\n  }\n  if (value < -halfBaseSize) {\n    return halfBaseSize * -1;\n  }\n  return value;\n};","map":{"version":3,"names":["shape_enum_1","require","shapeBoundsFactory","shape","absoluteX","absoluteY","relativeX","relativeY","dist","radius","baseSize","parentRect","JoystickShape","Square","getWithinBounds","left","top","AxisX","AxisY","exports","value","halfBaseSize"],"sources":["C:\\2271Project\\js\\node_modules\\react-joystick-component\\src\\shapes\\shape.bounds.factory.ts"],"sourcesContent":["import {JoystickShape} from \"../enums/shape.enum\";\r\n\r\nexport const shapeBoundsFactory = (\r\n    shape: JoystickShape,\r\n    absoluteX:number,\r\n    absoluteY: number,\r\n    relativeX:number,\r\n    relativeY:number,\r\n    dist:number,\r\n    radius:number,\r\n    baseSize: number,\r\n    parentRect: DOMRect) => {\r\n    switch (shape){\r\n        case JoystickShape.Square:\r\n            relativeX = getWithinBounds(absoluteX - parentRect.left - (baseSize / 2), baseSize);\r\n            relativeY = getWithinBounds(absoluteY - parentRect.top - (baseSize / 2), baseSize);\r\n            return {relativeX, relativeY};\r\n        case JoystickShape.AxisX:\r\n            relativeX = getWithinBounds(absoluteX - parentRect.left - (baseSize / 2), baseSize);\r\n            relativeY = 0;\r\n        return {relativeX, relativeY};\r\n\r\n        case JoystickShape.AxisY:\r\n            relativeX = 0\r\n            relativeY = getWithinBounds(absoluteY - parentRect.top - (baseSize / 2), baseSize);\r\n            return {relativeX, relativeY};\r\n        default:\r\n            if (dist > radius) {\r\n                relativeX *= radius / dist;\r\n                relativeY *= radius / dist;\r\n            }\r\n            return {relativeX, relativeY};\r\n\r\n    }\r\n\r\n}\r\n\r\nconst getWithinBounds = (value:number, baseSize:number): number =>  {\r\n    const halfBaseSize = baseSize / 2;\r\n    if(value > halfBaseSize){\r\n        return halfBaseSize;\r\n    }\r\n    if(value < -(halfBaseSize)){\r\n        return halfBaseSize * -1;\r\n    }\r\n    return value\r\n}"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAEO,IAAMC,kBAAkB,GAAG,SAAAA,CAC9BC,KAAoB,EACpBC,SAAgB,EAChBC,SAAiB,EACjBC,SAAgB,EAChBC,SAAgB,EAChBC,IAAW,EACXC,MAAa,EACbC,QAAgB,EAChBC,UAAmB;EACnB,QAAQR,KAAK;IACT,KAAKH,YAAA,CAAAY,aAAa,CAACC,MAAM;MACrBP,SAAS,GAAGQ,eAAe,CAACV,SAAS,GAAGO,UAAU,CAACI,IAAI,GAAIL,QAAQ,GAAG,CAAE,EAAEA,QAAQ,CAAC;MACnFH,SAAS,GAAGO,eAAe,CAACT,SAAS,GAAGM,UAAU,CAACK,GAAG,GAAIN,QAAQ,GAAG,CAAE,EAAEA,QAAQ,CAAC;MAClF,OAAO;QAACJ,SAAS,EAAAA,SAAA;QAAEC,SAAS,EAAAA;MAAA,CAAC;IACjC,KAAKP,YAAA,CAAAY,aAAa,CAACK,KAAK;MACpBX,SAAS,GAAGQ,eAAe,CAACV,SAAS,GAAGO,UAAU,CAACI,IAAI,GAAIL,QAAQ,GAAG,CAAE,EAAEA,QAAQ,CAAC;MACnFH,SAAS,GAAG,CAAC;MACjB,OAAO;QAACD,SAAS,EAAAA,SAAA;QAAEC,SAAS,EAAAA;MAAA,CAAC;IAE7B,KAAKP,YAAA,CAAAY,aAAa,CAACM,KAAK;MACpBZ,SAAS,GAAG,CAAC;MACbC,SAAS,GAAGO,eAAe,CAACT,SAAS,GAAGM,UAAU,CAACK,GAAG,GAAIN,QAAQ,GAAG,CAAE,EAAEA,QAAQ,CAAC;MAClF,OAAO;QAACJ,SAAS,EAAAA,SAAA;QAAEC,SAAS,EAAAA;MAAA,CAAC;IACjC;MACI,IAAIC,IAAI,GAAGC,MAAM,EAAE;QACfH,SAAS,IAAIG,MAAM,GAAGD,IAAI;QAC1BD,SAAS,IAAIE,MAAM,GAAGD,IAAI;;MAE9B,OAAO;QAACF,SAAS,EAAAA,SAAA;QAAEC,SAAS,EAAAA;MAAA,CAAC;;AAIzC,CAAC;AAjCYY,OAAA,CAAAjB,kBAAkB,GAAAA,kBAAA;AAmC/B,IAAMY,eAAe,GAAG,SAAAA,CAACM,KAAY,EAAEV,QAAe;EAClD,IAAMW,YAAY,GAAGX,QAAQ,GAAG,CAAC;EACjC,IAAGU,KAAK,GAAGC,YAAY,EAAC;IACpB,OAAOA,YAAY;;EAEvB,IAAGD,KAAK,GAAG,CAAEC,YAAa,EAAC;IACvB,OAAOA,YAAY,GAAG,CAAC,CAAC;;EAE5B,OAAOD,KAAK;AAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}